(function(n,t,i){"use strict";function r(n,t){var i,r;this.element=n;this.layers=n.getElementsByClassName("layer");i={calibrateX:this.data(this.element,"calibrate-x"),calibrateY:this.data(this.element,"calibrate-y"),invertX:this.data(this.element,"invert-x"),invertY:this.data(this.element,"invert-y"),limitX:this.data(this.element,"limit-x"),limitY:this.data(this.element,"limit-y"),scalarX:this.data(this.element,"scalar-x"),scalarY:this.data(this.element,"scalar-y"),frictionX:this.data(this.element,"friction-x"),frictionY:this.data(this.element,"friction-y"),originX:this.data(this.element,"origin-x"),originY:this.data(this.element,"origin-y")};for(r in i)i[r]===null&&delete i[r];this.extend(this,f,t,i);this.calibrationTimer=null;this.calibrationFlag=!0;this.enabled=!1;this.depths=[];this.raf=null;this.bounds=null;this.ex=0;this.ey=0;this.ew=0;this.eh=0;this.ecx=0;this.ecy=0;this.erx=0;this.ery=0;this.cx=0;this.cy=0;this.ix=0;this.iy=0;this.mx=0;this.my=0;this.vx=0;this.vy=0;this.onMouseMove=this.onMouseMove.bind(this);this.onDeviceOrientation=this.onDeviceOrientation.bind(this);this.onOrientationTimer=this.onOrientationTimer.bind(this);this.onCalibrationTimer=this.onCalibrationTimer.bind(this);this.onAnimationFrame=this.onAnimationFrame.bind(this);this.onWindowResize=this.onWindowResize.bind(this);this.initialise()}var u=30,f={relativeInput:!1,clipRelativeInput:!1,calibrationThreshold:100,calibrationDelay:500,supportDelay:500,calibrateX:!1,calibrateY:!0,invertX:!0,invertY:!0,limitX:!1,limitY:!1,scalarX:10,scalarY:10,frictionX:.1,frictionY:.1,originX:.5,originY:.5};r.prototype.extend=function(){var r,n,u,t,i;if(arguments.length>1)for(r=arguments[0],n=1,u=arguments.length;n<u;n++){t=arguments[n];for(i in t)r[i]=t[i]}};r.prototype.data=function(n,t){return this.deserialize(n.getAttribute("data-"+t))};r.prototype.deserialize=function(n){return n==="true"?!0:n==="false"?!1:n==="null"?null:!isNaN(parseFloat(n))&&isFinite(n)?parseFloat(n):n};r.prototype.camelCase=function(n){return n.replace(/-+(.)?/g,function(n,t){return t?t.toUpperCase():""})};r.prototype.transformSupport=function(r){for(var u=t.createElement("div"),c=!1,o=null,l=!1,a=null,s=null,f=0,v=this.vendors.length;f<v;f++)if(this.vendors[f]!==null?(a=this.vendors[f][0]+"transform",s=this.vendors[f][1]+"Transform"):(a="transform",s="transform"),u.style[s]!==i){c=!0;break}switch(r){case"2D":l=c;break;case"3D":if(c){var e=t.body||t.createElement("body"),h=t.documentElement,y=h.style.overflow;t.body||(h.style.overflow="hidden",h.appendChild(e),e.style.overflow="hidden",e.style.background="");e.appendChild(u);u.style[s]="translate3d(1px,1px,1px)";o=n.getComputedStyle(u).getPropertyValue(a);l=o!==i&&o.length>0&&o!=="none";h.style.overflow=y;e.removeChild(u)}}return l};r.prototype.ww=null;r.prototype.wh=null;r.prototype.wcx=null;r.prototype.wcy=null;r.prototype.wrx=null;r.prototype.wry=null;r.prototype.portrait=null;r.prototype.desktop=!navigator.userAgent.match(/(iPhone|iPod|iPad|Android|BlackBerry|BB10|mobi|tablet|opera mini|nexus 7)/i);r.prototype.vendors=[null,["-webkit-","webkit"],["-moz-","Moz"],["-o-","O"],["-ms-","ms"]];r.prototype.motionSupport=!!n.DeviceMotionEvent;r.prototype.orientationSupport=!!n.DeviceOrientationEvent;r.prototype.orientationStatus=0;r.prototype.transform2DSupport=r.prototype.transformSupport("2D");r.prototype.transform3DSupport=r.prototype.transformSupport("3D");r.prototype.propertyCache={};r.prototype.initialise=function(){this.transform3DSupport&&this.accelerate(this.element);var t=n.getComputedStyle(this.element);t.getPropertyValue("position")==="static"&&(this.element.style.position="relative");this.updateLayers();this.updateDimensions();this.enable();this.queueCalibration(this.calibrationDelay)};r.prototype.updateLayers=function(){var t,i,n;for(this.layers=this.element.getElementsByClassName("layer"),this.depths=[],t=0,i=this.layers.length;t<i;t++)n=this.layers[t],this.transform3DSupport&&this.accelerate(n),n.style.position=t?"absolute":"relative",n.style.display="block",n.style.left=0,n.style.top=0,this.depths.push(this.data(n,"depth")||0)};r.prototype.updateDimensions=function(){this.ww=n.innerWidth;this.wh=n.innerHeight;this.wcx=this.ww*this.originX;this.wcy=this.wh*this.originY;this.wrx=Math.max(this.wcx,this.ww-this.wcx);this.wry=Math.max(this.wcy,this.wh-this.wcy)};r.prototype.updateBounds=function(){this.bounds=this.element.getBoundingClientRect();this.ex=this.bounds.left;this.ey=this.bounds.top;this.ew=this.bounds.width;this.eh=this.bounds.height;this.ecx=this.ew*this.originX;this.ecy=this.eh*this.originY;this.erx=Math.max(this.ecx,this.ew-this.ecx);this.ery=Math.max(this.ecy,this.eh-this.ecy)};r.prototype.queueCalibration=function(n){clearTimeout(this.calibrationTimer);this.calibrationTimer=setTimeout(this.onCalibrationTimer,n)};r.prototype.enable=function(){this.enabled||(this.enabled=!0,this.orientationSupport?(this.portrait=null,n.addEventListener("deviceorientation",this.onDeviceOrientation),setTimeout(this.onOrientationTimer,this.supportDelay)):(this.cx=0,this.cy=0,this.portrait=!1,n.addEventListener("mousemove",this.onMouseMove)),n.addEventListener("resize",this.onWindowResize),this.raf=requestAnimationFrame(this.onAnimationFrame))};r.prototype.disable=function(){this.enabled&&(this.enabled=!1,this.orientationSupport?n.removeEventListener("deviceorientation",this.onDeviceOrientation):n.removeEventListener("mousemove",this.onMouseMove),n.removeEventListener("resize",this.onWindowResize),cancelAnimationFrame(this.raf))};r.prototype.calibrate=function(n,t){this.calibrateX=n===i?this.calibrateX:n;this.calibrateY=t===i?this.calibrateY:t};r.prototype.invert=function(n,t){this.invertX=n===i?this.invertX:n;this.invertY=t===i?this.invertY:t};r.prototype.friction=function(n,t){this.frictionX=n===i?this.frictionX:n;this.frictionY=t===i?this.frictionY:t};r.prototype.scalar=function(n,t){this.scalarX=n===i?this.scalarX:n;this.scalarY=t===i?this.scalarY:t};r.prototype.limit=function(n,t){this.limitX=n===i?this.limitX:n;this.limitY=t===i?this.limitY:t};r.prototype.origin=function(n,t){this.originX=n===i?this.originX:n;this.originY=t===i?this.originY:t};r.prototype.clamp=function(n,t,i){return n=Math.max(n,t),Math.min(n,i)};r.prototype.css=function(n,t,r){var u=this.propertyCache[t],f,e;if(!u)for(f=0,e=this.vendors.length;f<e;f++)if(u=this.vendors[f]!==null?this.camelCase(this.vendors[f][1]+"-"+t):t,n.style[u]!==i){this.propertyCache[t]=u;break}n.style[u]=r};r.prototype.accelerate=function(n){this.css(n,"transform","translate3d(0,0,0)");this.css(n,"transform-style","preserve-3d");this.css(n,"backface-visibility","hidden")};r.prototype.setPosition=function(n,t,i){t+="px";i+="px";this.transform3DSupport?this.css(n,"transform","translate3d("+t+","+i+",0)"):this.transform2DSupport?this.css(n,"transform","translate("+t+","+i+")"):(n.style.left=t,n.style.top=i)};r.prototype.onOrientationTimer=function(){this.orientationSupport&&this.orientationStatus===0&&(this.disable(),this.orientationSupport=!1,this.enable())};r.prototype.onCalibrationTimer=function(){this.calibrationFlag=!0};r.prototype.onWindowResize=function(){this.updateDimensions()};r.prototype.onAnimationFrame=function(){var t,i,n,r;for(this.updateBounds(),t=this.ix-this.cx,i=this.iy-this.cy,(Math.abs(t)>this.calibrationThreshold||Math.abs(i)>this.calibrationThreshold)&&this.queueCalibration(0),this.portrait?(this.mx=this.calibrateX?i:this.iy,this.my=this.calibrateY?t:this.ix):(this.mx=this.calibrateX?t:this.ix,this.my=this.calibrateY?i:this.iy),this.mx*=this.ew*(this.scalarX/100),this.my*=this.eh*(this.scalarY/100),isNaN(parseFloat(this.limitX))||(this.mx=this.clamp(this.mx,-this.limitX,this.limitX)),isNaN(parseFloat(this.limitY))||(this.my=this.clamp(this.my,-this.limitY,this.limitY)),this.vx+=(this.mx-this.vx)*this.frictionX,this.vy+=(this.my-this.vy)*this.frictionY,n=0,r=this.layers.length;n<r;n++){var f=this.layers[n],u=this.depths[n],e=this.vx*u*(this.invertX?-1:1),o=this.vy*u*(this.invertY?-1:1);this.setPosition(f,e,o)}this.raf=requestAnimationFrame(this.onAnimationFrame)};r.prototype.onDeviceOrientation=function(n){if(!this.desktop&&n.beta!==null&&n.gamma!==null){this.orientationStatus=1;var t=(n.beta||0)/u,i=(n.gamma||0)/u,r=this.wh>this.ww;this.portrait!==r&&(this.portrait=r,this.calibrationFlag=!0);this.calibrationFlag&&(this.calibrationFlag=!1,this.cx=t,this.cy=i);this.ix=t;this.iy=i}};r.prototype.onMouseMove=function(n){var t=n.clientX,i=n.clientY;!this.orientationSupport&&this.relativeInput?(this.clipRelativeInput&&(t=Math.max(t,this.ex),t=Math.min(t,this.ex+this.ew),i=Math.max(i,this.ey),i=Math.min(i,this.ey+this.eh)),this.ix=(t-this.ex-this.ecx)/this.erx,this.iy=(i-this.ey-this.ecy)/this.ery):(this.ix=(t-this.wcx)/this.wrx,this.iy=(i-this.wcy)/this.wry)};n["Parallax"]=r})(window,document),function(){for(var i=0,t=["ms","moz","webkit","o"],n=0;n<t.length&&!window.requestAnimationFrame;++n)window.requestAnimationFrame=window[t[n]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[t[n]+"CancelAnimationFrame"]||window[t[n]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(n){var t=(new Date).getTime(),r=Math.max(0,16-(t-i)),u=window.setTimeout(function(){n(t+r)},r);return i=t+r,u});window.cancelAnimationFrame||(window.cancelAnimationFrame=function(n){clearTimeout(n)})}();
/*
//# sourceMappingURL=parallax.min.js.map
*/